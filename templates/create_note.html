<!DOCTYPE html>
<html>
	<head>
		<title>Create Note</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
		<meta charset="UTF-8">
	</head>

	<body>
		<div>
			<h3 id="cnn">Create New Note</h3>
		</div>
		<div>
			<form id = "noteForm">
				<fieldset>
					<label for = "title">Title</label>
					<input type = "text" id = "title" name = "note_title" required = "required">

					<label for = "content">Content</label>
					<textarea id="content" name="note_content" required></textarea>
					
				
					<button>Create Note</button>
					

				</fieldset>
			</form>
		</div>

					<script>
						const form = document.getElementById("noteForm")
						const titleInput = document.getElementById("title")
						const contentInput = document.getElementById("content")

						form.addEventListener("submit", function (e) {
						  e.preventDefault() // ðŸš« stop normal submit

						  fetch("/api/create_new_note", {
							method: "POST",
							headers: {
							  "Content-Type": "application/json"
							},
							body: JSON.stringify({
							  title: titleInput.value,
							  content: contentInput.value
							})
						  })
						  .then(res => res.json())
						  .then(note => {
							console.log("Created:", note)
							// optional: redirect or add to DOM
							window.location.href = "/notes"
						  })
						})				
					</script>

		
	</body>
</html>